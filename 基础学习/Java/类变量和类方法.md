### 类变量/静态变量

**引入：**当创建多个对象时，如何对创建的对象进行计数？

在类中声明一个类变量（静态变量），该类的所有对象都可以共享地访问这个变量

static变量在==类加载的时候生成==，因此即使没有创建一个对象实例，只要类加载了，就可以访问该类变量，类变量的生命周期随类的加载而开始，随类消亡而销毁

```java
public class Test{
    public static void main(String[] args){
        Person.id=5		//没有实例化对象，直接对类变量访问
    }
}
public class Person{
    public static int id;
}
```

**语法**

```java
//1
访问修饰符 static 数据类型 变量名;
//2
static 访问修饰符 数据类型 变量名;
//注意要满足访问权限
```

**访问类变量**

```java
类名.类变量名 或 对象名.类变量名
```

**使用情景**

当需要让该类的所有对象都共享一个变量时，就可以考虑使用类变量

**内存解析**

方法区有一个类加载区，在类加载后会在堆中生成一个该类的class 对象，当要实例化一个对象时都会参照堆中的class对象（JDK8之后）

![image-20211210121455987](https://typora-xing.oss-cn-hangzhou.aliyuncs.com/img/image-20211210121455987.png)

### 类方法/静态方法

#### 语法

```java
//1
访问修饰符 static 数据返回类型 方法名(){
    
}
//2
static 访问修饰符 数据返回类型 方法名(){
    
}
```

#### 调用

```java
类名.类方法名 或 对象名.类方法名
```

#### 特点

1. 静态方法只能访问静态成员，普通方法即可以访问非静态成员也可以访问静态成员
2. 不创建实例也可以调用某个方法（当成工具类），方便调用
3. 类方法和普通方法都是随着类的加载而加载，将结构信息存储在方法区中
4. 类方法中不允许使用和对象相关的关键字，比如：this和super

#### 使用场景

方法中不涉及到任何和对象相关的成员，则可以将方法设计成静态方法

